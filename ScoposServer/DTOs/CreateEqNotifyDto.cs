// ============================================================================
// DTO (DATA TRANSFER OBJECT) ДЛЯ СОЗДАНИЯ НОВОГО УВЕДОМЛЕНИЯ
// ============================================================================

using System.ComponentModel.DataAnnotations;

namespace ScoposServer.DTOs;

/// <summary>
/// DTO для создания новой записи уведомления/дефекта по оборудованию
/// Содержит информацию о выявленных неисправностях, дефектах и предписаниях
/// </summary>
public class CreateEqNotifyDto
{
    // ========================================================================
    // 1. ОБЯЗАТЕЛЬНЫЕ ПОЛЯ (ИДЕНТИФИКАТОРЫ)
    // ========================================================================

    /// <summary>УНИКАЛЬНЫЙ КОД УВЕДОМЛЕНИЯ (обязательное поле)</summary>
    /// <remarks>Первичный ключ в БД. Формат: NOT-XXX-ГГГГ. Пример: "NOT-001-2024"</remarks>
    [Required(ErrorMessage = "Код уведомления обязателен для заполнения")]
    public string QmCode { get; set; } = null!;

    /// <summary>КОД ФУНКЦИОНАЛЬНОГО ЭЛЕМЕНТА (обязательное поле)</summary>
    /// <remarks>Идентификатор ФЭ, к которому относится уведомление. Пример: "FE-COMP-01"</remarks>
    [Required(ErrorMessage = "Код функционального элемента обязателен")]
    public string FeCode { get; set; } = null!;

    /// <summary>КОД ОБОРУДОВАНИЯ (обязательное поле)</summary>
    /// <remarks>Внешний ключ к таблице EqEquipment. Пример: "EQ001"</remarks>
    [Required(ErrorMessage = "Код оборудования обязателен")]
    public string EoCode { get; set; } = null!;

    // ========================================================================
    // 2. ТИП И КЛАССИФИКАЦИЯ УВЕДОМЛЕНИЯ
    // ========================================================================

    /// <summary>Тип уведомления</summary>
    /// <remarks>Категория: "Техническое", "Промышленная безопасность", "Предписание" и т.д.</remarks>
    public string? QmType { get; set; }

    /// <summary>Код группы уведомления</summary>
    /// <remarks>Пример: "GRP-VIB", "GRP-LEAK", "GRP-TEMP"</remarks>
    public string? QmGrpCode { get; set; }

    /// <summary>Наименование группы уведомления</summary>
    /// <remarks>Пример: "Вибрация", "Утечки", "Температура"</remarks>
    public string? QmGrpName { get; set; }

    /// <summary>Код кода уведомления</summary>
    /// <remarks>Детальный код дефекта. Пример: "COD-VIB-H", "COD-LEAK-T"</remarks>
    public string? QmCodCode { get; set; }

    /// <summary>Наименование кода уведомления</summary>
    /// <remarks>Описание дефекта. Пример: "Превышение вибрации", "Утечка теплоносителя"</remarks>
    public string? QmCodName { get; set; }

    // ========================================================================
    // 3. ОРГАНИЗАЦИЯ / КОНТРОЛИРУЮЩИЙ ОРГАН
    // ========================================================================

    /// <summary>Организация, выдавшая предписание/уведомление</summary>
    /// <remarks>Пример: "Ростехнадзор", "ООО Технадзор", "АО Энергоаудит"</remarks>
    public string? Organization { get; set; }

    // ========================================================================
    // 4. ДЕТАЛИ ФУНКЦИОНАЛЬНОГО ЭЛЕМЕНТА (ФЭ)
    // ========================================================================

    /// <summary>Код группы функционального элемента</summary>
    public string? FeGrpCode { get; set; }

    /// <summary>Наименование группы функционального элемента</summary>
    /// <remarks>Пример: "Компрессорное оборудование", "Насосное оборудование"</remarks>
    public string? FeGrpName { get; set; }

    /// <summary>Код функционального элемента (детальный)</summary>
    public string? FeCodCode { get; set; }

    /// <summary>Наименование функционального элемента (детальное)</summary>
    /// <remarks>Пример: "Компрессор центробежный", "Насос шестеренный"</remarks>
    public string? FeCodName { get; set; }

    /// <summary>Наименование функционального элемента (полное)</summary>
    /// <remarks>Конкретное наименование узла/элемента. Пример: "Компрессор Н-101"</remarks>
    public string? FeName { get; set; }

    // ========================================================================
    // 5. СТАТУСЫ И КРИТИЧНОСТЬ
    // ========================================================================

    /// <summary>Уровень критичности дефекта</summary>
    /// <remarks>Пример: "Критический", "Высокий", "Средний", "Низкий"</remarks>
    public string? Criticality { get; set; }

    /// <summary>Статус устранения дефекта</summary>
    /// <remarks>Пример: "В работе", "Устранен", "Просрочен", "Контроль"</remarks>
    public string? EliminationStatus { get; set; }

    /// <summary>Плановая/фактическая дата устранения</summary>
    /// <remarks>Если NULL - срок не установлен или дефект не устранен</remarks>
    public DateTime? EliminationDate { get; set; }

    /// <summary>Статус ремонтных работ</summary>
    /// <remarks>Пример: "Плановый ремонт", "Текущий ремонт", "Капитальный ремонт", "Завершен"</remarks>
    public string? RepairStatus { get; set; }

    // ========================================================================
    // 6. ДОКУМЕНТАЦИЯ
    // ========================================================================

    /// <summary>Номер приказа/распоряжения/предписания</summary>
    /// <remarks>Документ-основание. Пример: "ПР-124-24"</remarks>
    public string? OrderInfo { get; set; }
}