// ============================================================================
// СУЩНОСТЬ (ENTITY) - МОДЕЛЬ ДАННЫХ ДЛЯ ТАБЛИЦЫ ОБОРУДОВАНИЯ
// ============================================================================

using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace ScoposServer.Domain.Entities;

/// <summary>
/// МОДЕЛЬ ДАННЫХ ДЛЯ ТАБЛИЦЫ EqEquipment.
/// Содержит полную информацию обо всех единицах оборудования на предприятии.
/// Маппится на таблицу "EqEquipment" в базе данных PostgreSQL.
/// </summary>
[Table("EqEquipment")] // Явное указание имени таблицы в БД
public class EqEquipment
{
    // ========================================================================
    // 1. ПЕРВИЧНЫЙ КЛЮЧ (PRIMARY KEY)
    // ========================================================================

    /// <summary>
    /// УНИКАЛЬНЫЙ КОД ОБОРУДОВАНИЯ (Первичный ключ)
    /// </summary>
    /// <remarks>
    /// [KEY] - атрибут первичного ключа.
    /// Уникальный идентификатор единицы оборудования в системе.
    /// Формат: EQXXX, где XXX - порядковый номер.
    /// Пример: "EQ001", "EQ002", ..., "EQ032"
    /// Обязательное поле, строковый тип.
    /// </remarks>
    [Key]
    public string Code { get; set; } = null!;

    // ========================================================================
    // 2. СВЯЗЬ С ВНЕШНИМИ СИСТЕМАМИ
    // ========================================================================

    /// <summary>
    /// КОД 3D-МОДЕЛИ (Связь с системой визуализации)
    /// </summary>
    /// <remarks>
    /// 🔗 Ссылка на 3D-модель оборудования в CAD-системе.
    /// Используется для визуализации и навигации в цифровом двойнике.
    /// Пример: "MDL-1001", "MDL-1032"
    /// </remarks>
    public string? ModelCode { get; set; }

    // ========================================================================
    // 3. ОСНОВНЫЕ ХАРАКТЕРИСТИКИ
    // ========================================================================

    /// <summary>
    /// НАИМЕНОВАНИЕ ОБОРУДОВАНИЯ
    /// </summary>
    /// <remarks>
    /// Полное техническое наименование по паспорту.
    /// Пример: "Компрессор центробежный Н-101", "Насос центробежный П-201"
    /// </remarks>
    public string? Name { get; set; }

    /// <summary>
    /// ТИП ОБОРУДОВАНИЯ
    /// </summary>
    /// <remarks>
    /// Категория оборудования на английском (для системной классификации).
    /// Пример: "Compressor", "Pump", "Vessel", "Column", "Furnace", "Turbine"
    /// </remarks>
    public string? Type { get; set; }

    /// <summary>
    /// ФЛАГ УДАЛЕНИЯ (SOFT DELETE)
    /// </summary>
    /// <remarks>
    /// false - оборудование активно, отображается в системе
    /// true - оборудование помечено как удаленное, скрыто глобальным фильтром
    /// Используется для мягкого удаления без потери данных.
    /// </remarks>
    public bool IsDel { get; set; }

    // ========================================================================
    // 4. ИЕРАРХИЯ (РОДИТЕЛЬСКИЕ ОБЪЕКТЫ)
    // ========================================================================

    /// <summary>
    /// КОД РОДИТЕЛЬСКОГО ОБЪЕКТА
    /// </summary>
    /// <remarks>
    /// Вышестоящая установка, агрегат или комплекс.
    /// Для связи "один ко многим" внутри одной таблицы.
    /// Пример: "PLT-001" (Установка гидрокрекинга)
    /// </remarks>
    public string? ParentCode { get; set; }

    /// <summary>
    /// НАИМЕНОВАНИЕ РОДИТЕЛЬСКОГО ОБЪЕКТА
    /// </summary>
    /// <remarks>
    /// Человекочитаемое название родителя.
    /// Пример: "Установка гидрокрекинга", "Установка каталитического крекинга"
    /// </remarks>
    public string? ParentName { get; set; }

    /// <summary>
    /// ТИП РОДИТЕЛЬСКОГО ОБЪЕКТА
    /// </summary>
    /// <remarks>
    /// Категория родительского объекта.
    /// Пример: "Plant" (установка), "Unit" (блок), "Shop" (цех)
    /// </remarks>
    public string? ParentType { get; set; }

    // ========================================================================
    // 5. КЛАССИФИКАЦИЯ
    // ========================================================================

    /// <summary>
    /// КОД КЛАССА ОБОРУДОВАНИЯ
    /// </summary>
    /// <remarks>
    /// Код по внутреннему классификатору.
    /// Пример: "CLS-COMP", "CLS-PUMP", "CLS-VESSEL"
    /// </remarks>
    public string? ClassCode { get; set; }

    /// <summary>
    /// НАИМЕНОВАНИЕ КЛАССА ОБОРУДОВАНИЯ
    /// </summary>
    /// <remarks>
    /// Группа оборудования по функциональному назначению.
    /// Пример: "Компрессорное оборудование", "Насосное оборудование"
    /// </remarks>
    public string? ClassName { get; set; }

    /// <summary>
    /// ТИП КЛАССА ОБОРУДОВАНИЯ
    /// </summary>
    /// <remarks>
    /// Дополнительная классификация.
    /// Пример: "Equipment" (оборудование), "Machinery" (механизмы)
    /// </remarks>
    public string? ClassType { get; set; }

    // ========================================================================
    // 6. ПРОИЗВОДСТВЕННЫЕ ПОДРАЗДЕЛЕНИЯ
    // ========================================================================

    /// <summary>
    /// КОД ПРОИЗВОДСТВЕННОГО ПОДРАЗДЕЛЕНИЯ
    /// </summary>
    /// <remarks>
    /// Идентификатор участка/отдела.
    /// Пример: "DP-01" (Нефтепереработка), "DP-02" (Каталитический крекинг)
    /// </remarks>
    public string? PrDepCode { get; set; }

    /// <summary>
    /// НАИМЕНОВАНИЕ ПРОИЗВОДСТВЕННОГО ПОДРАЗДЕЛЕНИЯ
    /// </summary>
    /// <remarks>
    /// Пример: "Нефтепереработка", "Каталитический крекинг", "Риформинг"
    /// </remarks>
    public string? PrDepName { get; set; }

    // ========================================================================
    // 7. ФИЛИАЛЫ / ЦЕХА
    // ========================================================================

    /// <summary>
    /// КОД ФИЛИАЛА / ЦЕХА
    /// </summary>
    /// <remarks>
    /// Идентификатор структурного подразделения.
    /// Пример: "BR-01" (Уфимский НПЗ)
    /// </remarks>
    public string? BranchCode { get; set; }

    /// <summary>
    /// НАИМЕНОВАНИЕ ФИЛИАЛА / ЦЕХА
    /// </summary>
    /// <remarks>
    /// Пример: "Уфимский НПЗ", "Салаватнефтеоргсинтез"
    /// </remarks>
    public string? BranchName { get; set; }

    // ========================================================================
    // 8. ЗАВОДСКИЕ ДАННЫЕ И УЧЕТ
    // ========================================================================

    /// <summary>
    /// ИНВЕНТАРНЫЙ НОМЕР
    /// </summary>
    /// <remarks>
    /// Учетный номер предприятия для бухгалтерии и ОТИ.
    /// Пример: "INV-789-01", "INV-789-32"
    /// </remarks>
    public string? InventoryNumber { get; set; }

    /// <summary>
    /// ПРОИЗВОДИТЕЛЬ (ИЗГОТОВИТЕЛЬ)
    /// </summary>
    /// <remarks>
    /// Завод-изготовитель оборудования.
    /// Пример: "ОАО Казанькомпрессормаш", "АО ГМС Ливгидромаш"
    /// </remarks>
    public string? Manufacturer { get; set; }

    /// <summary>
    /// ЗАВОДСКОЙ СЕРИЙНЫЙ НОМЕР
    /// </summary>
    /// <remarks>
    /// Номер, присвоенный производителем.
    /// Пример: "SN-4501-2020", "SN-2105-2019"
    /// </remarks>
    public string? SerialNumber { get; set; }

    // ========================================================================
    // 9. ПРОИЗВОДСТВЕННЫЕ ДАТЫ
    // ========================================================================

    /// <summary>
    /// ГОД ИЗГОТОВЛЕНИЯ
    /// </summary>
    /// <remarks>
    /// Год выпуска с завода-изготовителя.
    /// Пример: "2020", "2019", "2018"
    /// </remarks>
    public string? ProductYear { get; set; }

    /// <summary>
    /// МЕСЯЦ ИЗГОТОВЛЕНИЯ
    /// </summary>
    /// <remarks>
    /// Месяц выпуска с завода-изготовителя.
    /// Пример: "Май", "Ноябрь", "Август"
    /// </remarks>
    public string? ProductMonth { get; set; }

    /// <summary>
    /// ДАТА ВВОДА В ЭКСПЛУАТАЦИЮ
    /// </summary>
    /// <remarks>
    /// Дата начала промышленной эксплуатации.
    /// Важно для расчета амортизации и ресурса.
    /// </remarks>
    public DateTime? ComissioningDate { get; set; }

    // ========================================================================
    // 10. СТАТУСЫ ОБОРУДОВАНИЯ
    // ========================================================================

    /// <summary>
    /// СТАТУС ПОЛЬЗОВАТЕЛЯ (ЭКСПЛУАТАЦИОННЫЙ)
    /// </summary>
    /// <remarks>
    /// Режим работы оборудования по данным эксплуатации.
    /// Пример: "В работе", "В ремонте", "В резерве", "Выведено"
    /// </remarks>
    public string? UserStat { get; set; }

    /// <summary>
    /// СИСТЕМНЫЙ СТАТУС (ТЕХНИЧЕСКИЙ)
    /// </summary>
    /// <remarks>
    /// Состояние в системе учета.
    /// Пример: "Активный", "На обслуживании", "Списан"
    /// </remarks>
    public string? SystemStat { get; set; }

    // ========================================================================
    // 11. МВЗ (МЕСТО ВОЗНИКНОВЕНИЯ ЗАТРАТ)
    // ========================================================================

    /// <summary>
    /// КОД МЕСТА ВОЗНИКНОВЕНИЯ ЗАТРАТ
    /// </summary>
    /// <remarks>
    /// Для экономического учета и распределения расходов.
    /// Пример: "MVZ-01", "MVZ-02", "MVZ-07"
    /// </remarks>
    public string? MvzCode { get; set; }

    /// <summary>
    /// НАИМЕНОВАНИЕ МЕСТА ВОЗНИКНОВЕНИЯ ЗАТРАТ
    /// </summary>
    /// <remarks>
    /// Пример: "МВЗ-1", "МВЗ-2", "МВЗ-7"
    /// </remarks>
    public string? MvzName { get; set; }

    // ========================================================================
    // 12. ФИЗИЧЕСКОЕ РАСПОЛОЖЕНИЕ
    // ========================================================================

    /// <summary>
    /// МЕСТОПОЛОЖЕНИЕ / УСТАНОВКИ
    /// </summary>
    /// <remarks>
    /// Точное физическое расположение на объекте.
    /// Пример: "Цех №1 блок компрессии", "Цех №7 дозировка"
    /// </remarks>
    public string? Location { get; set; }

    // ========================================================================
    // 13. ЕПБ (ЕДИНАЯ ПРОИЗВОДСТВЕННАЯ БЕЗОПАСНОСТЬ)
    // ========================================================================

    /// <summary>
    /// КОД ОБЪЕКТА ЕПБ
    /// </summary>
    /// <remarks>
    /// Идентификатор в системе промышленной безопасности.
    /// Пример: "OBJ-001", "OBJ-032"
    /// </remarks>
    public string? EpbObjectCode { get; set; }

    /// <summary>
    /// КОД КОМПЛЕКСА ЕПБ
    /// </summary>
    /// <remarks>
    /// Группировка объектов ЕПБ.
    /// Пример: "CPLX-001", "CPLX-007"
    /// </remarks>
    public string? EpbComplexCode { get; set; }

    /// <summary>
    /// КОД ТИПА ЕПБ
    /// </summary>
    /// <remarks>
    /// Категория объекта в системе ЕПБ.
    /// Пример: "TYPE-A", "TYPE-B", "TYPE-C"
    /// </remarks>
    public string? EpbTypeNameCode { get; set; }

    /// <summary>
    /// ДАТА ПОСЛЕДНЕЙ ПРОВЕРКИ ЕПБ
    /// </summary>
    /// <remarks>
    /// Дата проведения последней экспертизы промышленной безопасности.
    /// </remarks>
    public DateTime? EpbDate { get; set; }

    /// <summary>
    /// ПЛАНОВАЯ ДАТА СЛЕДУЮЩЕЙ ПРОВЕРКИ ЕПБ
    /// </summary>
    /// <remarks>
    /// Нормативная дата следующей экспертизы.
    /// </remarks>
    public DateTime? EpbNextDate { get; set; }

    /// <summary>
    /// ПЛАНОВАЯ ДАТА СЛЕДУЮЩЕЙ ПРОВЕРКИ (ПО ГРАФИКУ)
    /// </summary>
    /// <remarks>
    /// Скорректированная дата с учетом продлений/переносов.
    /// </remarks>
    public DateTime? EpbNextDatePlan { get; set; }
}